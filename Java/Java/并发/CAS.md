# CAS（Compare-And-Swap）与无锁编程

- 原理：比较内存中某位置的值与预期值一致则写入新值，否则失败重试。
- 要点：
  - ABA 问题：值 A 变为 B 再变回 A，CAS 看似成功但值已被改动。解决：版本戳（AtomicStampedReference）。
  - 自旋开销：高争用下 CAS 重试次数多，吞吐下降。
- 应用：原子类更新、无锁队列、并发容器内部。
- 与锁的取舍：CAS 适合轻量、短临界区；复杂临界区仍需锁保护。