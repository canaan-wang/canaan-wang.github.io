## Thread
实现接口创建线程优点：线程可以继承其它类，但是编程复杂了一点
### 线程状态
- NEW：初始状态，线程被创建，但是还没有调用start方法。
- RUNNABLE：可运行状态，正在运行或者等待调度
- BLOCKED：阻塞状态
- WTING：等待状态，等待其它线程通知
- TIMED_WTING：超时等待状态，在 WTING 的基础上增加了超时时间
- TERMINATED：终止
### 继承 Tread 类（创建线程）
- 重写 run() 方法
- 调用 start() 方法启动
### 实现 Runnable 接口（创建线程）
- 实现 run() 方法
- 创建实例
- 实例作为参数创建 Tread 对象
- 调用 tread 的 start() 方法启动线程
### 实现 Callable 接口（创建线程，可拿到线程返回值）
- 实现 call() 方法
- 创建实例
- 实例作为参数创建 FutureTask 对象
- 使用 FutureTask 再创建 Tread 对象
- 启动线程
- 调用 FutureTask 对象的 get() 方法，获得线程返回值
- 优点：可以拿到线程返回值

##  32. 线程池
- 类型 ThreadPoolExecutor
- 可以管理线程数量，让线程复用，减少线程创建、销毁的开销
### 相关参数
- corePoolSize 核心线程数：线程池常态保持的最小线程数
- maxinumPoolSize 最大线程数：线程池最大拥有线程数
- workQueue 等待队列：任务队列（可以有界、也可以无界，若无界则不会创建超过核心线程数的线程，这种用法很危险，会导致任务有大量的堆积，内存溢出）
- handler 拒绝策略
- keepAliveTime 空闲线程存活时间
### 生命状态
- RUNNING：线程池正在运行
- SHUTDOWN：调用 shutdown() 进入该状态，队列不会清空，线程池会等待任务执行完毕
- STOP：调用 shutdownNow() 进入该状态，线程池会清空队列，不等待任务执行
- TIDING：线程池、队列为空时进入该状态
- TERMINATED：线程池死亡
### 线程池任务处理流程
- 线程数未达到核心线程数时，新增线程执行任务
- 线程数达到核心线程数时，等待队列未满，则放入等待队列
- 等待队列满，线程数未达到最大线程数时，新建线程执行任务
- 等待队列满、线程数达到最大线程数，采用拒绝策略，拒绝执行该任务
- 新建的线程处理完当前任务后，不会立即关闭，会继续处理等待队列中的任务
- 线程的空闲时间达到 keepAliveTime，线程池会销毁部分线程，线程数量收缩值核心线程数。
### 拒绝策略
- RejectedExecutionHandler 接口的实现类
- 让调用者自己执行任务
- 直接抛出异常
- 丢弃任务不做处理
- 删除队列中最老的任务并把当前任务加入队列
### 相关类
- ThreadPoolExecutor 线程池
- ScheduledThreadPoolExecutor 调度线程池（支持定时任务）
- Executors 创建线程池的工具类：创建的线程池为无界线程池，不推荐使用

