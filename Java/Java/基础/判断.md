
# Java 条件判断语句

## 定义与作用

条件判断语句是Java编程中用于根据不同的条件执行不同代码块的机制。通过条件判断，程序可以实现分支逻辑，根据不同的输入或状态执行相应的操作。

**主要作用：**
- 实现程序的分支逻辑
- 根据条件控制程序流程
- 处理不同的业务场景
- 提高代码的灵活性和适应性

## if-else语句

### 1. 基本语法

```java
if (condition) {
    // 条件为true时执行的代码
} else {
    // 条件为false时执行的代码
}
```

### 2. 多条件判断

```java
if (score >= 90) {
    System.out.println("优秀");
} else if (score >= 80) {
    System.out.println("良好");
} else if (score >= 60) {
    System.out.println("及格");
} else {
    System.out.println("不及格");
}
```

### 3. 嵌套if语句

```java
if (age >= 18) {
    if (hasLicense) {
        System.out.println("可以驾驶");
    } else {
        System.out.println("需要驾照");
    }
} else {
    System.out.println("年龄不足");
}
```

### 4. 条件运算符（三元运算符）

```java
// 语法：condition ? value1 : value2
int max = (a > b) ? a : b;
String result = (score >= 60) ? "及格" : "不及格";
```

## switch语句

### 1. 基本语法

```java
switch (expression) {
    case value1:
        // 代码块1
        break;
    case value2:
        // 代码块2
        break;
    default:
        // 默认代码块
        break;
}
```

### 2. 支持的数据类型

| 数据类型 | 支持版本 | 说明 |
|---------|---------|------|
| `byte` | Java 1.0+ | 字节类型 |
| `short` | Java 1.0+ | 短整型 |
| `int` | Java 1.0+ | 整型 |
| `char` | Java 1.0+ | 字符类型 |
| `String` | Java 7+ | 字符串类型 |
| `enum` | Java 5+ | 枚举类型 |

### 3. switch表达式示例

#### 3.1 基本类型示例

```java
int day = 3;
String dayName;

switch (day) {
    case 1:
        dayName = "星期一";
        break;
    case 2:
        dayName = "星期二";
        break;
    case 3:
        dayName = "星期三";
        break;
    case 4:
        dayName = "星期四";
        break;
    case 5:
        dayName = "星期五";
        break;
    default:
        dayName = "周末";
        break;
}
```

#### 3.2 字符串类型示例（Java 7+）

```java
String color = "RED";

switch (color.toLowerCase()) {
    case "red":
        System.out.println("红色");
        break;
    case "blue":
        System.out.println("蓝色");
        break;
    case "green":
        System.out.println("绿色");
        break;
    default:
        System.out.println("未知颜色");
        break;
}
```

#### 3.3 枚举类型示例（Java 5+）

```java
enum Day { MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY }

Day today = Day.WEDNESDAY;

switch (today) {
    case MONDAY:
    case TUESDAY:
    case WEDNESDAY:
    case THURSDAY:
    case FRIDAY:
        System.out.println("工作日");
        break;
    case SATURDAY:
    case SUNDAY:
        System.out.println("周末");
        break;
}
```

### 4. switch表达式的新特性（Java 14+）

#### 4.1 箭头语法

```java
int day = 3;
String dayName = switch (day) {
    case 1 -> "星期一";
    case 2 -> "星期二";
    case 3 -> "星期三";
    case 4 -> "星期四";
    case 5 -> "星期五";
    default -> "周末";
};
```

#### 4.2 yield关键字

```java
String result = switch (operation) {
    case "+" -> {
        int sum = a + b;
        yield "和：" + sum;
    }
    case "-" -> {
        int diff = a - b;
        yield "差：" + diff;
    }
    default -> "未知操作";
};
```

## 条件判断最佳实践

### 1. 代码可读性

**避免深层嵌套：**
```java
// 错误做法
if (condition1) {
    if (condition2) {
        if (condition3) {
            // 深层嵌套，难以阅读
        }
    }
}

// 正确做法：使用卫语句（Guard Clause）
if (!condition1) {
    return;
}
if (!condition2) {
    return;
}
if (!condition3) {
    return;
}
// 主要逻辑
```

### 2. 性能考虑

**条件顺序优化：**
```java
// 将最可能为true的条件放在前面
if (mostLikelyCondition) {
    // 处理最常见情况
} else if (lessLikelyCondition) {
    // 处理次常见情况
} else {
    // 处理其他情况
}
```

### 3. switch语句注意事项

**不要忘记break：**
```java
// 错误做法：会执行多个case
switch (value) {
    case 1:
        System.out.println("1");
    case 2:
        System.out.println("2"); // 也会执行
        break;
}

// 正确做法
switch (value) {
    case 1:
        System.out.println("1");
        break;
    case 2:
        System.out.println("2");
        break;
}
```

**使用default分支：**
```java
switch (value) {
    case 1:
        // 处理情况1
        break;
    case 2:
        // 处理情况2
        break;
    default:
        // 处理未预料的情况
        logger.warn("未知值：" + value);
        break;
}
```

## 条件判断模式

### 1. 策略模式

```java
interface DiscountStrategy {
    double applyDiscount(double price);
}

class RegularDiscount implements DiscountStrategy {
    public double applyDiscount(double price) {
        return price * 0.9;
    }
}

class VIPDiscount implements DiscountStrategy {
    public double applyDiscount(double price) {
        return price * 0.8;
    }
}

// 使用策略模式替代复杂的if-else
DiscountStrategy strategy = getDiscountStrategy(userType);
double finalPrice = strategy.applyDiscount(originalPrice);
```

### 2. 状态模式

```java
interface OrderState {
    void process(Order order);
}

class PendingState implements OrderState {
    public void process(Order order) {
        // 处理待处理状态
    }
}

class ShippedState implements OrderState {
    public void process(Order order) {
        // 处理已发货状态
    }
}
```

### 3. 工厂模式

```java
interface Payment {
    void pay(double amount);
}

class Alipay implements Payment {
    public void pay(double amount) {
        // 支付宝支付逻辑
    }
}

class WechatPay implements Payment {
    public void pay(double amount) {
        // 微信支付逻辑
    }
}

class PaymentFactory {
    public static Payment createPayment(String type) {
        switch (type) {
            case "alipay":
                return new Alipay();
            case "wechat":
                return new WechatPay();
            default:
                throw new IllegalArgumentException("不支持的支付方式");
        }
    }
}
```

## 总结

Java条件判断语句提供了灵活的程序流程控制能力。关键要点包括：

- **if-else语句**：适用于复杂的条件逻辑和范围判断
- **switch语句**：适用于离散值的等值判断，代码更简洁
- **条件运算符**：适用于简单的二选一场景
- **新特性**：Java 14+的switch表达式提供了更简洁的语法

**选择指南：**
- 简单二选一：使用三元运算符
- 离散值判断：使用switch语句
- 复杂条件逻辑：使用if-else语句
- 多态场景：考虑使用设计模式

通过合理选择和使用条件判断语句，可以编写出更加清晰、可维护的Java代码。

最后更新时间：2024-01-15