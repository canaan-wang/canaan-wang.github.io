## ACID
- 原子性：事务是 DB 最小的工作单位
- 一致性：数据库从一种一致性状态转变为另一种一致性状态（数据库的完整性约束没有被破坏）
- 隔离性：事务为提交前对其它事务不可见
- 持久型：数据库用于数据恢复能力

## 事务
### 四大特性
- 原子性：对数据库的一系列操作，要么全部成功，要么全部失败，不可能出现部分成功的情况。
- 一致性：一致性是指数据库的完整性约束没有被破坏，在事务执行前后都是合法的数据状态。
- 隔离性：隔离性指的是多个事务彼此之间是完全隔离、互不干扰的。
- 持久性：持久性是指只要事务提交成功，那么对数据库做的修改就被永久保存下来了，不可能因为任何原因再回到原来的状态。
### 事务状态
- 活动（active）：当事务对应的数据库操作正在执行过程中，则该事务处于活动状态。
- 部分提交的（partially committed）：当事务中的最后一个操作执行完成，但还未将变更刷新到磁盘时，则该事务处于部分提交状态。
- 失败的（failed）：当事务处于活动或者部分提交状态时，由于某些错误导致事务无法继续执行，则事务处于失败状态。
- 中止的（aborted）：当事务处于失败状态，且回滚操作执行完毕，数据恢复到事务执行之前的状态时，则该事务处于中止状态。
- 提交的（committed）：当事务处于部分提交状态，并且将修改过的数据都同步到磁盘之后，此时该事务处于提交状态。
### 事务并发时会发生的问题
- 脏读（Dirty Read） 脏读是指一个事务读到了其它事务未提交的数据。
- 脏写（Dirty Write） 脏写是指一个事务修改了其它事务未提交的数据。
- 不可重复读（Non-Repeatable Read） 不可重复读指的是在一个事务执行过程中，读取到其它事务已提交的数据，导致两次读取的结果不一致。
- 幻读（Phantom） 幻读是指的是在一个事务执行过程中，读取到了其他事务新插入数据，导致两次读取的结果不一致。
### 事务隔离级别
| 隔离级别 | 脏读 | 不可重复读 | 幻读 | 
| ------------------------------- | -------- | --------------- | ------ | 
| READ UNCOMMITTED | 可能 | 可能 | 可能 | （读未提交）
| READ COMMITTED | 不可能 | 可能 | 可能 | （读提交）
| REPEATABLE READ | 不可能 | 不可能 | 可能 |（可重复读，InnoDB 在该级别通过 MVCC 解决了幻读的问题）
| SERIALIZABLE | 不可能 | 不可能 | 不可能 | （串行化）