

## SSL
### 四次握手
- 1. C -> S 发送加密通信请求，包含客户端随机数1、支持的加密方式、支持的压缩方式
- 2. S -> C 发送应答，包含加密协议版本、加密方法、服务器证书(CA)、服务端随机数1
- 3. C 验证 CA、从 CA 中取出公钥，C -> S 发送客户端随机数2，编码改变通知(表示使用约定的加密、密钥进行数据传输)、客户端握手结束通知
- 4. S 服务端使用三个随机数计算回话密钥，S -> C 发送编码改变通知，服务器握手结束通知
- 使用三个随机数的原因，现在的随机数都是伪随机，通过三个随机数的方式增加随机数的复杂度。

### TLS
- 是一种为应用程序提供数据安全及完整性的网络协议，在浏览器、邮箱、即时通信等领域广泛支持。主流网站均使用该协议进行网络连接及通信。
- 采用 CS模式（客户端-服务器），在两端建立安全的网络连接，防止数据传输时受到窃听、篡改
- TLS 与应用层协议（HTTP、FTP 等）无耦合，应用层数据通过 TLS 是均会被加密。
- TLS 连接创建：（CS 两端握手以创建一个有状态的网络连接）
    - C -> S：要求创建安全连接，并列出密码算法列表（加密算法、散列算法）
    - S -> C：决策使用的密码算法，并通知 C
    - S -> C：发送数字证书（包含服务器公钥、服务器名称、证书颁发机构）
    - C：验证数字证书有效性
    - C -> S：生成会话密钥，并发送到服务器（密钥生成：使用服务器公钥加密随机生成的密钥，服务器使用私钥进行解密）
- TLS 握手过程中的数据安全通过 临时Diffie-Hellman、临时椭圆曲线Diffie-Hellman 提供前向保密能力。
